# Environment Variables Template
# Next.js + PostgreSQL Stack

# ============================================================================
# NEXT.JS APPLICATION
# ============================================================================

# Application
NODE_ENV=development
NEXT_PUBLIC_APP_NAME=My Next.js App
NEXT_PUBLIC_APP_URL=http://localhost:3000

# API Routes Base URL
NEXT_PUBLIC_API_URL=http://localhost:3000/api
# Production: https://yourapp.com/api

# ============================================================================
# DATABASE (PostgreSQL)
# ============================================================================

# Development
DATABASE_URL=postgresql://username:password@localhost:5432/myapp_dev

# Production (example formats):
# Supabase: postgresql://postgres:password@db.project.supabase.co:5432/postgres
# Railway: postgresql://postgres:password@containers-us-west-123.railway.app:5432/railway
# Heroku: postgres://user:password@ec2-host.compute-1.amazonaws.com:5432/database
# Neon: postgresql://user:password@ep-cool-darkness-123456.us-east-2.aws.neon.tech/neondb

# Connection Pool Settings
DATABASE_POOL_MIN=2
DATABASE_POOL_MAX=10

# Prisma
PRISMA_GENERATE_DATAPROXY=false

# ============================================================================
# AUTHENTICATION
# ============================================================================

# NextAuth.js
NEXTAUTH_URL=http://localhost:3000
NEXTAUTH_SECRET=your-random-secret-min-32-characters-change-in-production
# Generate with: openssl rand -base64 32

# OAuth Providers
# Google
GOOGLE_CLIENT_ID=123456789012-abc...
GOOGLE_CLIENT_SECRET=GOCSPX-...

# GitHub
GITHUB_ID=Iv1...
GITHUB_SECRET=abc123...

# Discord
DISCORD_CLIENT_ID=123456789012345678
DISCORD_CLIENT_SECRET=abc...

# Email Provider (for magic links)
EMAIL_SERVER=smtp://username:password@smtp.example.com:587
EMAIL_FROM=noreply@yourapp.com

# ============================================================================
# EXTERNAL SERVICES
# ============================================================================

# Stripe
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_51...
STRIPE_SECRET_KEY=sk_test_51...
STRIPE_WEBHOOK_SECRET=whsec_...

# Vercel Blob Storage (File Uploads)
BLOB_READ_WRITE_TOKEN=vercel_blob_rw_...

# Uploadthing (Alternative File Uploads)
UPLOADTHING_SECRET=sk_live_...
UPLOADTHING_APP_ID=abc123

# SendGrid (Transactional Email)
SENDGRID_API_KEY=SG...

# Resend (Alternative Email)
RESEND_API_KEY=re_...

# Twilio (SMS/WhatsApp)
TWILIO_ACCOUNT_SID=AC...
TWILIO_AUTH_TOKEN=...
TWILIO_PHONE_NUMBER=+1234567890

# ============================================================================
# AI & ANALYTICS
# ============================================================================

# OpenAI
OPENAI_API_KEY=sk-...
OPENAI_ORG_ID=org-...

# Google Analytics
NEXT_PUBLIC_GA_MEASUREMENT_ID=G-XXXXXXXXXX

# PostHog
NEXT_PUBLIC_POSTHOG_KEY=phc_...
NEXT_PUBLIC_POSTHOG_HOST=https://app.posthog.com

# Mixpanel
NEXT_PUBLIC_MIXPANEL_TOKEN=abc...

# ============================================================================
# SEARCH & CACHING
# ============================================================================

# Algolia
NEXT_PUBLIC_ALGOLIA_APP_ID=ABC123
NEXT_PUBLIC_ALGOLIA_SEARCH_KEY=abc...
ALGOLIA_ADMIN_KEY=abc... # Server-side only

# Redis (Upstash)
UPSTASH_REDIS_REST_URL=https://abc-123.upstash.io
UPSTASH_REDIS_REST_TOKEN=AXYz...

# ============================================================================
# MONITORING & ERROR TRACKING
# ============================================================================

# Sentry
NEXT_PUBLIC_SENTRY_DSN=https://...@sentry.io/...
SENTRY_ORG=your-org
SENTRY_PROJECT=your-project
SENTRY_AUTH_TOKEN=abc...

# Vercel Analytics
NEXT_PUBLIC_VERCEL_ANALYTICS_ID=abc123

# LogRocket
NEXT_PUBLIC_LOGROCKET_ID=abc123/my-app

# ============================================================================
# CMS & CONTENT
# ============================================================================

# Sanity CMS
NEXT_PUBLIC_SANITY_PROJECT_ID=abc123
NEXT_PUBLIC_SANITY_DATASET=production
SANITY_API_TOKEN=sk...

# Contentful
CONTENTFUL_SPACE_ID=abc123
CONTENTFUL_ACCESS_TOKEN=abc...
CONTENTFUL_PREVIEW_ACCESS_TOKEN=abc...

# Strapi
NEXT_PUBLIC_STRAPI_URL=http://localhost:1337
STRAPI_API_TOKEN=abc...

# ============================================================================
# DEPLOYMENT (Vercel)
# ============================================================================

# These are auto-populated by Vercel, no need to set manually
# VERCEL=1
# VERCEL_ENV=production
# VERCEL_URL=your-app-abc123.vercel.app
# VERCEL_GIT_COMMIT_SHA=abc123
# VERCEL_GIT_COMMIT_MESSAGE=feat: add new feature

# ============================================================================
# FEATURE FLAGS
# ============================================================================

NEXT_PUBLIC_ENABLE_MAINTENANCE_MODE=false
NEXT_PUBLIC_ENABLE_BETA_FEATURES=false
NEXT_PUBLIC_ENABLE_DEBUG=false

# ============================================================================
# DEVELOPMENT TOOLS
# ============================================================================

# Disable telemetry
NEXT_TELEMETRY_DISABLED=1

# Enable SWC Minifier
SWC_MINIFY=true

# Analyze Bundle
ANALYZE=false

# ============================================================================
# RATE LIMITING
# ============================================================================

RATE_LIMIT_REQUESTS_PER_MINUTE=60
RATE_LIMIT_REQUESTS_PER_HOUR=1000

# ============================================================================
# SECURITY
# ============================================================================

# CSP (Content Security Policy)
ENABLE_CSP=true

# CORS (for API routes)
ALLOWED_ORIGINS=http://localhost:3000,https://yourapp.com

# ============================================================================
# WEBHOOKS
# ============================================================================

# Stripe Webhook Secret (already listed above)
# GitHub Webhook Secret (for CI/CD)
GITHUB_WEBHOOK_SECRET=abc...

# Clerk Webhook Secret
CLERK_WEBHOOK_SECRET=whsec_...

# ============================================================================
# THIRD-PARTY INTEGRATIONS
# ============================================================================

# Slack
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/...
SLACK_BOT_TOKEN=xoxb-...

# Discord Webhook
DISCORD_WEBHOOK_URL=https://discord.com/api/webhooks/...

# ============================================================================
# NOTES
# ============================================================================

# PUBLIC vs SERVER Variables:
# - NEXT_PUBLIC_* variables are exposed to the browser
# - Other variables are server-side only
# - Be careful not to expose secrets with NEXT_PUBLIC_

# Required Variables (Development):
# - DATABASE_URL
# - NEXTAUTH_URL
# - NEXTAUTH_SECRET

# Required Variables (Production):
# - All development variables
# - Set NODE_ENV=production
# - Use production database URL
# - Use production OAuth credentials
# - Set up error tracking (Sentry)

# Setup Steps:
# 1. Copy this file to .env.local
# 2. Fill in your values
# 3. Never commit .env.local to git
# 4. For production, set environment variables in Vercel/hosting platform

# Generate Secrets:
# openssl rand -base64 32

# Prisma Setup:
# npx prisma init
# npx prisma generate
# npx prisma db push

# Next.js Environment Variable Precedence:
# 1. .env.local (loaded first)
# 2. .env.[NODE_ENV].local
# 3. .env.[NODE_ENV]
# 4. .env

# Security Checklist:
# ✓ NEXTAUTH_SECRET is random and at least 32 chars
# ✓ No NEXT_PUBLIC_ prefix on secrets
# ✓ .env.local is in .gitignore
# ✓ Different secrets for dev/staging/prod
# ✓ Database credentials are secure
# ✓ OAuth redirect URLs are whitelisted
